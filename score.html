<!doctype html>
<html lang="da">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Piratwhist – Score v1.0</title>
  <link rel="stylesheet" href="piratwhist.css" />
  <link rel="stylesheet" href="/feedback.css" />
</head>
<body>
  <header class="topbar">
    <div class="title">
      Piratwhist <span id="appVersion" class="badge"></span>
    </div>
    <div class="actions">
      <a href="piratwhist.html" class="ghost linkbtn">Start</a>
      <a href="online.html" class="ghost linkbtn">Online</a>
      <a href="rules.html" class="ghost linkbtn">Regler</a>
      <button id="btnLeaveRoom" class="ghost">Forlad rum</button>
      <button id="btnResetRoom" class="danger ghost" title="Nulstil spil i rummet">Nulstil rum</button>
    </div>
  </header>

  <main class="wrap">
    <!-- ROOM -->
    <section id="room" class="card">
      <h2>Rum</h2>
      <p class="sub" style="margin-top:-6px">
        Opret et rum eller join et eksisterende, så flere kan spille samtidig.
      </p>

      <div class="grid" style="grid-template-columns: repeat(2, minmax(0, 1fr));">
        <div class="card" style="background: rgba(0,0,0,.12);">
          <h3>Opret rum</h3>
          <p class="sub">Lav et nyt rum og del koden med de andre.</p>
          <button id="btnCreateRoom" class="primary">Opret rum</button>
          <div id="createdRoomCode" class="roomCode hidden"></div>
        </div>

        <div class="card" style="background: rgba(0,0,0,.12);">
          <h3>Join rum</h3>
          <p class="sub">Indtast rumkode for at joine.</p>
          <div class="row">
            <input id="joinCode" type="text" inputmode="text" maxlength="6" placeholder="Fx A1B2C3" style="max-width:220px" />
            <button id="btnJoinRoom" class="primary">Join</button>
          </div>
          <div id="joinError" class="sub" style="color:#ffd4d9"></div>
        </div>
      </div>

      <hr style="border-color: rgba(255,255,255,.10)" />

      <div class="row">
        <div class="sub">Status:</div>
        <div id="roomStatus" class="badge">Ikke i rum</div>
        <div class="sub" id="roomHint"></div>
      </div>
    </section>

    <!-- SETUP -->
    <section id="setup" class="card hidden">
      <h2>Opsætning (deles i rummet)</h2>

      <div class="grid">
        <label class="field">
          <span>Antal spillere (2–8)</span>
          <input id="playerCount" type="number" min="2" max="8" value="4" />
        </label>

        <label class="field">
          <span>Antal runder (4–14)</span>
          <input id="roundCount" type="number" min="4" max="14" value="14" />
        </label>
      </div>

      <div id="nameFields" class="names"></div>

      <div class="row">
        <button id="btnStart" class="primary">Start spil</button>
        <div class="hint">0 er altid tilladt som bud. Tomt felt = runden er ikke færdig og tæller ikke med.</div>
      </div>
    </section>

    <!-- GAME -->
    <section id="game" class="card hidden">
      <div class="gameHeader">
        <div>
          <h2>Spil</h2>
          <div id="roundInfo" class="sub"></div>
          <div id="roundWarning" class="sub hidden" style="color:#ffd27a; margin-top:6px;"></div>
        </div>
        <div class="row">
          <button id="btnPrev" class="ghost">◀ Forrige</button>
          <button id="btnNext" class="ghost">Næste ▶</button>
        </div>
      </div>

      <div id="roundCard" class="roundCard"></div>

      <hr />

      <h3>Oversigt (alle runder)</h3>
      <div class="tableWrap">
        <table id="overview"></table>
      </div>
    </section>

    <footer class="footer">
      Piratwhist v<span id="footerVersion"></span>
    </footer>
  </main>

  <script src="https://cdn.socket.io/4.7.5/socket.io.min.js"></script>
  <script src="piratwhist.js"></script>
  <script src="/pw_telemetry.js"></script>
  <script src="/feedback.js"></script>
</body>
</html>
